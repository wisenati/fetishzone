<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetishromance | Customer Support</title>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />

    <!-- Animate.css -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />

    <style>
      :root {
        --primary: #8b5cf6;
        --primary-dark: #7c3aed;
        --secondary: #f43f5e;
        --accent: #06b6d4;
        --dark: #1e293b;
        --darker: #0f172a;
        --light: #f8fafc;
        --gray: #94a3b8;
        --gray-light: #cbd5e1;
        --gold: #f59e0b;
        --success: #10b981;
        --error: #ef4444;
        --warning: #f59e0b;
        --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        --shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 25px 50px rgba(0, 0, 0, 0.2);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Montserrat", sans-serif;
        background-color: var(--darker);
        color: var(--light);
        min-height: 100vh;
        overflow-x: hidden;
        background-image: radial-gradient(
            at 80% 0%,
            hsla(189, 100%, 56%, 0.1) 0px,
            transparent 50%
          ),
          radial-gradient(
            at 0% 50%,
            hsla(355, 100%, 93%, 0.1) 0px,
            transparent 50%
          ),
          radial-gradient(
            at 80% 100%,
            hsla(260, 100%, 70%, 0.1) 0px,
            transparent 50%
          );
      }

      /* Luxury Loader */
      .loader-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        transition: opacity 0.8s ease-out, visibility 0.8s ease-out;
      }

      .loader-container.hidden {
        opacity: 0;
        visibility: hidden;
      }

      .loader {
        width: 100px;
        height: 100px;
        position: relative;
        margin-bottom: 2rem;
      }

      .loader-ring {
        position: absolute;
        width: 100%;
        height: 100%;
        border: 4px solid transparent;
        border-radius: 50%;
        animation: spin 2s linear infinite;
      }

      .loader-ring:nth-child(1) {
        border-top-color: var(--primary);
        animation-delay: 0s;
      }

      .loader-ring:nth-child(2) {
        border-right-color: var(--secondary);
        animation-delay: 0.3s;
        width: 80%;
        height: 80%;
        top: 10%;
        left: 10%;
      }

      .loader-ring:nth-child(3) {
        border-bottom-color: var(--gold);
        animation-delay: 0.6s;
        width: 60%;
        height: 60%;
        top: 20%;
        left: 20%;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .loader-logo {
        width: 80px;
        height: 80px;
        object-fit: contain;
        margin-bottom: 2rem;
        animation: pulse 2s infinite;
        filter: drop-shadow(0 0 20px rgba(139, 92, 246, 0.5));
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.8;
        }
      }

      .loader-text {
        font-family: "Playfair Display", serif;
        font-size: 2rem;
        font-weight: 700;
        background: linear-gradient(
          90deg,
          var(--primary),
          var(--secondary),
          var(--gold)
        );
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-transform: uppercase;
        letter-spacing: 3px;
        animation: shimmer 3s infinite;
      }

      @keyframes shimmer {
        0% {
          background-position: -200% center;
        }
        100% {
          background-position: 200% center;
        }
      }

      .loader-subtitle {
        margin-top: 1rem;
        color: var(--gray);
        font-size: 1rem;
        letter-spacing: 1px;
        animation: fadeInOut 2s infinite;
      }

      @keyframes fadeInOut {
        0%,
        100% {
          opacity: 0.5;
        }
        50% {
          opacity: 1;
        }
      }

      /* Header */
      .header {
        position: sticky;
        top: 0;
        background: rgba(15, 23, 42, 0.95);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        z-index: 1000;
        padding: 1rem 0;
        transition: var(--transition);
      }

      .header-content {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo-container {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .logo {
        width: 50px;
        height: 50px;
        object-fit: contain;
        filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.5));
        transition: var(--transition);
      }

      .logo:hover {
        transform: rotate(15deg) scale(1.1);
      }

      .brand-name {
        font-family: "Playfair Display", serif;
        font-size: 1.8rem;
        font-weight: 700;
        background: linear-gradient(90deg, var(--primary), var(--secondary));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        letter-spacing: 1px;
      }

      .header-actions {
        display: flex;
        align-items: center;
        gap: 1.5rem;
      }

      .back-btn {
        background: rgba(255, 255, 255, 0.1);
        color: var(--light);
        border: 1px solid rgba(255, 255, 255, 0.2);
        padding: 12px 20px;
        border-radius: 25px;
        font-weight: 500;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .back-btn:hover {
        background: rgba(139, 92, 246, 0.2);
        border-color: var(--primary);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(139, 92, 246, 0.2);
      }

      .user-btn {
        position: relative;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: var(--light);
        width: 45px;
        height: 45px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: var(--transition);
        font-size: 1.1rem;
      }

      .user-btn:hover {
        background: rgba(139, 92, 246, 0.2);
        border-color: var(--primary);
        transform: translateY(-2px);
      }

      /* Main Container */
      .chat-container {
        display: flex;
        flex-direction: column;
        min-height: calc(100vh - 80px);
        max-width: 1400px;
        margin: 0 auto;
        opacity: 0;
        animation: fadeIn 0.5s forwards 0.3s;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      /* Chat Area */
      .chat-area {
        flex: 1;
        display: flex;
        flex-direction: column;
        background: rgba(15, 23, 42, 0.8);
        backdrop-filter: blur(10px);
      }

      /* Chat Header */
      .chat-header {
        padding: 1.5rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .chat-header-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        color: white;
      }

      .chat-header-info {
        flex: 1;
      }

      .chat-header-name {
        font-family: "Playfair Display", serif;
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 0.25rem;
        background: linear-gradient(90deg, var(--primary), var(--secondary));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
      }

      .chat-header-status {
        font-size: 0.85rem;
        color: var(--gray);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .status-indicator {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: var(--success);
      }

      /* Chat Messages */
      .chat-messages {
        flex: 1;
        padding: 1.5rem;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .message {
        max-width: 70%;
        padding: 12px 16px;
        border-radius: 18px;
        position: relative;
        animation: slideIn 0.3s ease-out;
        word-wrap: break-word;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .message-user {
        align-self: flex-end;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        border-top-right-radius: 4px;
      }

      .message-admin {
        align-self: flex-start;
        background: rgba(30, 41, 59, 0.8);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: var(--light);
        border-top-left-radius: 4px;
      }

      .message-time {
        display: block;
        font-size: 0.7rem;
        opacity: 0.7;
        margin-top: 4px;
        text-align: right;
      }

      /* Chat Input */
      .chat-input-container {
        padding: 1.5rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        position: relative;
      }

      .chat-input-wrapper {
        display: flex;
        gap: 0.5rem;
      }

      .chat-input {
        flex: 1;
        padding: 12px 16px;
        background: rgba(30, 41, 59, 0.8);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 25px;
        color: var(--light);
        font-size: 0.9rem;
        transition: var(--transition);
        resize: none;
        min-height: 50px;
        max-height: 120px;
      }

      .chat-input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.3);
      }

      .send-btn {
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        border: none;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: var(--transition);
        font-size: 1.2rem;
      }

      .send-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(139, 92, 246, 0.3);
      }

      .send-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      /* Status Message */
      .status-message {
        position: fixed;
        top: 100px;
        right: 20px;
        background: linear-gradient(135deg, var(--success), #059669);
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 15px;
        box-shadow: var(--shadow-lg);
        display: flex;
        align-items: center;
        gap: 1rem;
        z-index: 4000;
        transform: translateX(150%);
        transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        max-width: 350px;
      }

      .status-message.show {
        transform: translateX(0);
      }

      .status-message.error {
        background: linear-gradient(135deg, var(--error), #dc2626);
      }

      .status-icon {
        font-size: 1.5rem;
        flex-shrink: 0;
      }

      .status-text h4 {
        margin-bottom: 0.25rem;
        font-weight: 600;
      }

      .status-text p {
        font-size: 0.9rem;
        opacity: 0.9;
      }

      /* Empty State */
      .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        text-align: center;
        padding: 2rem;
        opacity: 0.7;
      }

      .empty-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
        color: var(--gray);
      }

      .empty-text {
        font-size: 1.1rem;
        color: var(--gray);
        max-width: 300px;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .header-content {
          padding: 0 1rem;
        }

        .brand-name {
          display: none;
        }

        .back-btn span {
          display: none;
        }
      }

      @media (max-width: 480px) {
        .chat-header {
          padding: 1rem;
        }

        .chat-header-name {
          font-size: 1.1rem;
        }

        .chat-header-status {
          font-size: 0.8rem;
        }

        .chat-messages {
          padding: 1rem;
        }

        .message {
          max-width: 85%;
        }

        .chat-input-container {
          padding: 1rem;
        }

        .chat-input {
          min-height: 45px;
          font-size: 0.8rem;
        }

        .send-btn {
          width: 45px;
          height: 45px;
          font-size: 1rem;
        }
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }

      ::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 4px;
      }

      ::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        border-radius: 4px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(
          135deg,
          var(--primary-dark),
          var(--secondary)
        );
      }
    </style>
  </head>
  <body>
    <!-- Luxury Loader -->
    <div class="loader-container" id="loader">
      <div class="loader">
        <div class="loader-ring"></div>
        <div class="loader-ring"></div>
        <div class="loader-ring"></div>
      </div>
      <img
        src="https://cdn-icons-png.flaticon.com/128/10856/10856545.png"
        alt="Fetishromance Logo"
        class="loader-logo"
      />
      <div class="loader-text">Fetishromance</div>
      <div class="loader-subtitle">Customer Support</div>
    </div>

    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="logo-container">
          <img
            src="https://cdn-icons-png.flaticon.com/128/10856/10856545.png"
            alt="Fetishromance Logo"
            class="logo"
          />
          <h1 class="brand-name">Fetishromance</h1>
        </div>

        <div class="header-actions">
          <button class="back-btn" id="backBtn">
            <i class="fas fa-arrow-left"></i>
            <span>Back</span>
          </button>

          <button class="user-btn" id="userBtn">
            <i class="fas fa-user"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- Main Chat Container -->
    <div class="chat-container">
      <!-- Chat Area -->
      <div class="chat-area">
        <!-- Chat Header -->
        <div class="chat-header">
          <div class="chat-header-avatar">
            <i class="fas fa-headset"></i>
          </div>
          <div class="chat-header-info">
            <h3 class="chat-header-name">Customer Support</h3>
            <div class="chat-header-status">
              <span class="status-indicator"></span>
              <span id="chatStatus">Connecting...</span>
            </div>
          </div>
        </div>

        <!-- Chat Messages -->
        <div class="chat-messages" id="chatMessages">
          <div class="empty-state">
            <div class="empty-icon">
              <i class="fas fa-spinner fa-spin"></i>
            </div>
            <p class="empty-text">Connecting to support...</p>
          </div>
        </div>

        <!-- Chat Input -->
        <div class="chat-input-container">
          <div class="chat-input-wrapper">
            <textarea
              class="chat-input"
              id="messageInput"
              placeholder="Type your message here..."
              rows="1"
            ></textarea>
            <button class="send-btn" id="sendBtn" disabled>
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Status Message -->
    <div class="status-message" id="statusMessage">
      <i class="fas fa-check-circle status-icon"></i>
      <div class="status-text">
        <h4 id="statusTitle">Success!</h4>
        <p id="statusDescription">Operation completed successfully</p>
      </div>
    </div>

    <script>
      // Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyBNtrsRJoq82G4vSJnNLtcuIgGNMQu7dsw",
        authDomain: "ecommerce-79bf2.firebaseapp.com",
        databaseURL: "https://ecommerce-79bf2-default-rtdb.firebaseio.com/",
        projectId: "ecommerce-79bf2",
        storageBucket: "ecommerce-79bf2.appspot.com",
        messagingSenderId: "420163739618",
        appId: "1:420163739618:android:45d0da5b4acf0fff9663bb",
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
      const database = firebase.database();

      // Global variables
      let currentChatId = null;
      let currentUserId = null;
      let messagesRef = null;

      // DOM Elements
      const loader = document.getElementById("loader");
      const backBtn = document.getElementById("backBtn");
      const chatMessages = document.getElementById("chatMessages");
      const messageInput = document.getElementById("messageInput");
      const sendBtn = document.getElementById("sendBtn");
      const chatStatus = document.getElementById("chatStatus");
      const statusMessage = document.getElementById("statusMessage");
      const statusTitle = document.getElementById("statusTitle");
      const statusDescription = document.getElementById("statusDescription");

      // Initialize the application
      document.addEventListener("DOMContentLoaded", () => {
        initializeApp();
      });

      async function initializeApp() {
        // Hide loader after 2 seconds
        setTimeout(() => {
          loader.classList.add("hidden");
        }, 2000);

        // Setup event listeners
        setupEventListeners();

        // Initialize chat
        initializeChat();
      }

      function setupEventListeners() {
        // Back button
        backBtn.addEventListener("click", () => {
          window.history.back();
        });

        // Message input
        messageInput.addEventListener("input", () => {
          sendBtn.disabled = messageInput.value.trim() === "";
        });

        messageInput.addEventListener("keydown", (e) => {
          if (e.key === "Enter" && !e.shiftKey) {
            e.preventDefault();
            if (messageInput.value.trim() !== "") {
              sendMessage();
            }
          }
        });

        // Send button
        sendBtn.addEventListener("click", sendMessage);
      }

      // Initialize chat with support
      function initializeChat() {
        // Check if user is authenticated
        auth.onAuthStateChanged((user) => {
          if (user) {
            currentUserId = user.uid;
            chatStatus.textContent = "Online";

            // Check for existing active chat
            database
              .ref("chats")
              .orderByChild("userId")
              .equalTo(user.uid)
              .once("value")
              .then((snapshot) => {
                const chats = snapshot.val();

                if (chats) {
                  // Find the first active chat
                  const chatId = Object.keys(chats).find(
                    (key) => chats[key].status === "active"
                  );

                  if (chatId) {
                    currentChatId = chatId;
                    loadChatMessages(chatId);
                  } else {
                    // Create a new chat
                    createNewChat();
                  }
                } else {
                  // Create a new chat
                  createNewChat();
                }
              })
              .catch((error) => {
                console.error("Error checking for existing chats:", error);
                showStatus(
                  "error",
                  "Connection Error",
                  "Failed to connect to support"
                );
              });
          } else {
            // User not authenticated - redirect to login
            window.location.href = "/login/";
          }
        });
      }

      // Create a new chat with support
      function createNewChat() {
        const user = auth.currentUser;
        if (!user) return;

        const newChatRef = database.ref("chats").push();
        currentChatId = newChatRef.key;

        newChatRef
          .set({
            userId: user.uid,
            userName: user.displayName || "User",
            status: "active",
            createdAt: firebase.database.ServerValue.TIMESTAMP,
            lastMessage: "Chat started",
            lastMessageTime: firebase.database.ServerValue.TIMESTAMP,
          })
          .then(() => {
            // Send initial greeting message from support
            const greetingMessage = {
              sender: "admin",
              text: "Hello! Thank you for contacting Fetishromance support. How can we help you today?",
              timestamp: firebase.database.ServerValue.TIMESTAMP,
            };

            database
              .ref(`chats/${currentChatId}/messages`)
              .push()
              .set(greetingMessage)
              .then(() => {
                // Update chat last message
                database.ref(`chats/${currentChatId}`).update({
                  lastMessage: greetingMessage.text,
                  lastMessageTime: greetingMessage.timestamp,
                });

                // Load messages
                loadChatMessages(currentChatId);
              });
          })
          .catch((error) => {
            console.error("Error creating new chat:", error);
            showStatus(
              "error",
              "Connection Error",
              "Failed to start chat with support"
            );
          });
      }

      // Load messages for the current chat
      function loadChatMessages(chatId) {
        chatMessages.innerHTML = `
          <div class="empty-state">
            <div class="empty-icon">
              <i class="fas fa-spinner fa-spin"></i>
            </div>
            <p class="empty-text">Loading messages...</p>
          </div>
        `;

        messagesRef = database
          .ref(`chats/${chatId}/messages`)
          .orderByChild("timestamp");

        messagesRef.on(
          "value",
          (snapshot) => {
            const messages = snapshot.val();
            chatMessages.innerHTML = "";

            if (!messages) {
              chatMessages.innerHTML = `
                <div class="empty-state">
                  <div class="empty-icon">
                    <i class="fas fa-comments"></i>
                  </div>
                  <p class="empty-text">No messages yet</p>
                </div>
              `;
              return;
            }

            // Convert messages object to array and sort by timestamp
            const messagesArray = Object.values(messages);
            messagesArray.sort((a, b) => a.timestamp - b.timestamp);

            messagesArray.forEach((message) => {
              addMessageToChat(message.sender, message.text, message.timestamp);
            });

            // Scroll to bottom
            setTimeout(() => {
              chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 100);
          },
          (error) => {
            console.error("Error loading messages:", error);
            chatMessages.innerHTML = `
              <div class="empty-state">
                <div class="empty-icon">
                  <i class="fas fa-exclamation-triangle"></i>
                </div>
                <p class="empty-text">Failed to load messages</p>
              </div>
            `;
          }
        );
      }

      // Add a message to the chat UI
      function addMessageToChat(sender, text, timestamp) {
        const messageTime = timestamp ? new Date(timestamp) : new Date();
        const formattedTime = messageTime.toLocaleTimeString([], {
          hour: "2-digit",
          minute: "2-digit",
        });

        const messageDiv = document.createElement("div");
        messageDiv.className = `message message-${
          sender === "user" ? "user" : "admin"
        }`;
        messageDiv.innerHTML = `
          <p>${text}</p>
          <span class="message-time">${formattedTime}</span>
        `;

        // Add animation
        messageDiv.style.animation = "slideIn 0.3s ease-out";

        chatMessages.appendChild(messageDiv);

        // Scroll to bottom
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }

      // Send a message as user
      function sendMessage() {
        const messageText = messageInput.value.trim();
        if (messageText === "" || !currentChatId) return;

        // Add message to Firebase
        const newMessageRef = database
          .ref(`chats/${currentChatId}/messages`)
          .push();
        newMessageRef
          .set({
            sender: "user",
            text: messageText,
            timestamp: firebase.database.ServerValue.TIMESTAMP,
          })
          .then(() => {
            // Update chat last message
            database.ref(`chats/${currentChatId}`).update({
              lastMessage: messageText,
              lastMessageTime: firebase.database.ServerValue.TIMESTAMP,
            });

            // Clear input
            messageInput.value = "";
            sendBtn.disabled = true;
          })
          .catch((error) => {
            console.error("Error sending message:", error);
            showStatus("error", "Message Error", "Failed to send message");
          });
      }

      // Show status message
      function showStatus(type, title, description) {
        statusTitle.textContent = title;
        statusDescription.textContent = description;

        statusMessage.className = `status-message ${
          type === "error" ? "error" : ""
        }`;
        statusMessage.classList.add("show");

        setTimeout(() => {
          statusMessage.classList.remove("show");
        }, 4000);
      }

      // Prevent browser warnings about dangerous site
      window.onbeforeunload = function () {
        return null;
      };
    </script>
  </body>
</html>
